dert.sqlQuery1=SELECT CASE WHEN a.mail_flag = 'Y' Then 'OK' WHEN a.mail_flag = 'N' and round((cast(SYSTIMESTAMP as date) - cast(CREATED_TIMESTAMP as date))* 24)<=1 Then 'WARNING' WHEN a.mail_flag = 'N' and round((cast(SYSTIMESTAMP as date) - cast(CREATED_TIMESTAMP as date))* 24)>1 Then 'CRITICAL' END MAIL_LOCK FROM ibmuser.DERT_MAIL_LOCK a
wwprt.SQLQuery1=SELECT ID, SOURCESYS, TYPE, PROCESSED, RECEIVEDTS, PROCESSEDTS FROM INTF.INTRO_MESSAGE WHERE DATE(PROCESSEDTS) > (CURRENT DATE - 1 DAY) AND PROCESSED = 'Y' AND (STATUS = 'FAIL' OR STATUS = 'PARTFAIL') WITH UR
wwprt.SQLQuery2=SELECT MESSAGEID, INSTANCE, CURRSTATUS, CURRSTATUSTS FROM PRDSTG.DISPATCH_LOG WHERE DATE(CURRSTATUSTS) > (CURRENT DATE - 1 DAY) AND (CURRSTATUS = 'FAIL' OR CURRSTATUS = 'PARTFAIL') WITH UR
wwprt.SQLQuery3=SELECT MESSAGEID, STATUS, STATUSTS FROM PRDSTG.RESPONSE_LOG WHERE DATE(STATUSTS) > (CURRENT DATE - 1 DAY) AND (STATUS = 'FAIL' OR STATUS = 'PARTFAIL') WITH UR
wwprt.SQLQuery4=SELECT * FROM SWPR.TRANSACTION WHERE DATE(PROCESSEDTS) > (CURRENT DATE - 1 DAY) AND (STATUS = 'FAIL' OR STATUS = 'PARTFAIL') WITH UR
wwprt.SQLQuery5=SELECT ID, SOURCESYSTEM, SOURCEREFID, COMPLETED, TOTALRECORDS, STATUS FROM WWPRT.LOG_INTERFACE_ACTION_CN WHERE DATE(COMPLETED) > (CURRENT DATE - 1 DAY) AND SOURCESYSTEM = 'IPL' AND (STATUS = 'FAIL' OR STATUS = 'PARTFAIL') WITH UR
